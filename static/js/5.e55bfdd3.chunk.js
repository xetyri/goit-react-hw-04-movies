(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{45:function(t,e,n){"use strict";n.d(e,"e",(function(){return f})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return h})),n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return O}));var r=n(49),a=n.n(r),c=n(50),o=n(51),i=n.n(o);i.a.defaults.baseURL="https://api.themoviedb.org/3/";var u="trending/movie/day",s="b1b3673ec244ff3939488ad480401173",p="/search/movie",l="/movie/";function f(t){return b.apply(this,arguments)}function b(){return(b=Object(c.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get("".concat(u,"?api_key=").concat(s,"&page=").concat(e));case 3:return n=t.sent,r=n.data,console.log(r),t.abrupt("return",r);case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function d(t){return v.apply(this,arguments)}function v(){return(v=Object(c.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get("".concat(l).concat(e,"?api_key=").concat(s));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function h(t,e){return j.apply(this,arguments)}function j(){return(j=Object(c.a)(a.a.mark((function t(e,n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get("".concat(p,"?api_key=").concat(s,"&query=").concat(e,"&page=").concat(n));case 3:return r=t.sent,c=r.data,t.abrupt("return",c);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function m(t){return y.apply(this,arguments)}function y(){return(y=Object(c.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get("".concat(l).concat(e,"/credits?api_key=").concat(s));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}function O(t){return g.apply(this,arguments)}function g(){return(g=Object(c.a)(a.a.mark((function t(e){var n,r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i.a.get("".concat(l).concat(e,"/reviews?api_key=").concat(s,"&page=1"));case 3:return n=t.sent,r=n.data,t.abrupt("return",r);case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))).apply(this,arguments)}},48:function(t,e,n){t.exports={ImageGallery:"Gallery_ImageGallery__2k_xe",link:"Gallery_link__s1l-0"}},52:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(48),a=n.n(r),c=n(1),o=n(6),i=n(2);function u(t){var e=t.movies,n=Object(c.e)();return Object(i.jsx)("ul",{className:a.a.ImageGallery,children:e&&e.map((function(t){var e=t.id,r=t.title,c=t.poster_path,u=t.original_title,s=t.name,p=t.release_date;return Object(i.jsx)("li",{children:Object(i.jsx)(o.b,{to:{pathname:"/movies/".concat(e),state:{from:n}},className:a.a.link,children:Object(i.jsxs)("div",{children:[Object(i.jsx)("img",{src:"https://image.tmdb.org/t/p/w300".concat(c),alt:u||s}),Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:r}),p&&Object(i.jsxs)("span",{children:[" (",p.slice(0,4),")"]})]})]})})},e)}))})}},80:function(t,e,n){t.exports={Button:"Button_Button__1CaC5"}},87:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return v}));var r=n(10);var a=n(8);function c(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(a.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=n(5),i=n(0),u=n(52),s=n(45),p=n(80),l=n.n(p),f=n(2);var b=function(t){var e=t.getMore;return Object(f.jsx)("button",{type:"button",className:l.a.Button,onClick:e,children:"Load more"})},d=n(11);function v(){var t=Object(i.useState)(1),e=Object(o.a)(t,2),n=e[0],r=e[1],a=Object(i.useState)([]),p=Object(o.a)(a,2),l=p[0],v=p[1],h=Object(i.useState)("idle"),j=Object(o.a)(h,2),m=j[0],y=j[1];Object(i.useEffect)((function(){O()}),[]);var O=function(){y("pending"),s.e(n).then((function(t){var e=t.results;v((function(t){return[].concat(c(t),c(e))}))})),r((function(t){return t+1})),y("resolved")},g=l.length>=19;return Object(f.jsxs)(f.Fragment,{children:["pending"===m&&Object(f.jsx)(d.a,{}),l?Object(f.jsx)(u.a,{movies:l,url:"movies",location:"/"}):Object(f.jsx)("h2",{children:"Error getting movies"}),g&&Object(f.jsx)(b,{getMore:function(){O()}})]})}}}]);
//# sourceMappingURL=5.e55bfdd3.chunk.js.map